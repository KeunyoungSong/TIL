# Conv2D에서 filters는 뭐고, 커널은 몇 개야? (RGB 기준으로 10초 정리)

  ## 0) 한 문장 결론

  filters는 **출력 채널(=출력 feature map 장수)**이고, “커널 조각”은 입력 채널 수만큼 곱해져서 실제 가중치 덩어리가 된다.

  ## 1) 출력이 몇 장 나오냐가 먼저다

  Conv2D는 결과로 feature map이 “여러 장” 나와.

  - filters = 2면 출력이 2장
  - filters = 64면 출력이 64장

  여기서 “장수”가 곧 출력 채널 수야.

  ## 2) 필터 1개는 ‘한 장’을 만든다

  필터 1개가 출력 1장을 만든다고 생각하면 편해.

  문제는 입력이 RGB면 3장이라는 거:

  - R 한 장
  - G 한 장
  - B 한 장

  출력 1장을 만들려면, 이 3장을 다 보고 섞어야 하니까 필터도 3장을 상대해야 해.

  ## 3) 그래서 “필터 1개”는 사실 3장이 한 묶음이다(RGB일 때)

  RGB 입력(C_in=3)이면, 필터 1개는 이렇게 생겼다고 보면 돼:

  - R용 2D 커널 1장
  - G용 2D 커널 1장
  - B용 2D 커널 1장

  그리고 계산은 이렇게 느낌만 잡으면 끝:

  - R에서 한 번 반응맵 만들고
  - G에서 한 번 만들고
  - B에서 한 번 만들고
  - 셋을 더해서 출력 1장 만든다(＋bias)

  ## 4) “그럼 커널은 몇 개냐”는 질문의 답(세는 기준을 먼저 정해라)

  여기서부터가 혼동 지점이야. “커널”이란 말을 두 방식으로 세거든.

  - 기준 A: “출력 장수 기준(필터 기준)”
      - filters=2면 필터 2개(출력 2장)
  - 기준 B: “채널별 2D 조각 기준(조각 기준)”
      - RGB면 필터 1개당 2D 조각이 3개
      - 그래서 조각 개수는 filters × C_in

  예:

  - 입력 RGB(C_in=3), filters=2
      - 필터 기준: 2개
      - 2D 조각 기준: 2×3=6개

  둘 다 맞는데 “무엇을 커널이라고 부르냐”가 달라서 싸우는 거야.

  ## 5) 왜 입력 채널 수만큼 조각이 필요하냐(수식 없이)

  출력 한 점을 만들 때 모델이 보는 건 “3×3 패치”만이 아니라, RGB면

  - R의 3×3(9개)
  - G의 3×3(9개)
  - B의 3×3(9개)

  총 27개 숫자야.
  그 27개를 섞어 하나의 숫자를 만들려면, 섞는 손잡이(가중치)도 27개가 필요해. 그래서 필터 깊이가 C_in만큼 생긴다.

  ## 6) 10초 자가 체크(이거 맞히면 끝)

  - 그레이스케일(C_in=1)에 filters=3이면?
      - 출력은 3장
      - 2D 조각은 3×1=3개
